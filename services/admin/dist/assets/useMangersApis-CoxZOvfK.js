import{d as O,u as A,a as C,f as R,s as x,b as w,c as M}from"./index-DHERFh5K.js";import{u as v}from"./queryKeys-B7CxYHCA.js";import{u as y,p as j}from"./index-BhlJXPXA.js";import{r as D,g as k,d as F}from"./react-vendor-DvN4Y5o0.js";import{s as N,c as I,u as E,b as U}from"./query-vendor-CBGQWAC0.js";const V={},T=e=>{let t;const s=new Set,n=(u,p)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const l=t;t=p??typeof c!="object"?c:Object.assign({},t,c),s.forEach(f=>f(t,l))}},o=()=>t,i={setState:n,getState:o,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(V&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}};return t=e(n,o,i),i},L=e=>e?T(e):T;var b={exports:{}},P={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m=D,Q=N;function W(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var q=typeof Object.is=="function"?Object.is:W,B=Q.useSyncExternalStore,$=m.useRef,z=m.useEffect,G=m.useMemo,H=m.useDebugValue;P.useSyncExternalStoreWithSelector=function(e,t,s,n,o){var r=$(null);if(r.current===null){var d={hasValue:!1,value:null};r.current=d}else d=r.current;r=G(function(){function u(a){if(!p){if(p=!0,c=a,a=n(a),o!==void 0&&d.hasValue){var S=d.value;if(o(S,a))return l=S}return l=a}if(S=l,q(c,a))return S;var g=n(a);return o!==void 0&&o(S,g)?S:(c=a,l=g)}var p=!1,c,l,f=s===void 0?null:s;return[function(){return u(t())},f===null?void 0:function(){return u(f())}]},[t,s,n,o]);var i=B(e,r[0],r[1]);return z(function(){d.hasValue=!0,d.value=i},[i]),H(i),i};b.exports=P;var J=b.exports;const K=k(J),X={},{useSyncExternalStoreWithSelector:Y}=K;function Z(e,t=e.getState,s){const n=Y(e.subscribe,e.getState,e.getServerState||e.getState,t,s);return D.useDebugValue(n),n}const h=e=>{(X&&"production")!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?L(e):e,s=(n,o)=>Z(t,n,o);return Object.assign(s,t),s},_=e=>e?h(e):h,ee=_()(e=>({selectedStudentId:[],resetStudentId:()=>e(()=>({selectedStudentId:[]})),appendStudentId:t=>e(s=>({selectedStudentId:[...s.selectedStudentId,t]})),deleteStudentId:t=>e(s=>({selectedStudentId:s.selectedStudentId.filter(n=>n!==t)}))})),ue=_()(e=>({clickedStudentId:"",resetClickedStudentId:()=>e(()=>({clickedStudentId:""})),setClickedStudentId:t=>e(()=>({clickedStudentId:t}))})),ce=({selectedId:e,answer:t})=>{const{toastDispatch:s}=v(),n=F();return E(()=>R(e,t),{onSuccess:o=>{s({actionType:"APPEND_TOAST",toastType:"SUCCESS",message:`${o.email}으로 아이디가 발송되었습니다.`}),n(j.login)},onError:()=>{s({actionType:"APPEND_TOAST",toastType:"ERROR",message:"학교 인증 질문과 답변이 일치하지 않습니다."})}})},ae=({name:e,sort:t,filter_type:s,min_point:n,max_point:o,tag_id:r})=>I(["studentList",e,t,s,n,o,r],()=>x(e,t,s,n,o,r),{refetchOnWindowFocus:!0}),de=e=>I(["getStudentDetail",e],()=>e&&w(e),{enabled:!!e}),ie=()=>I(["getMyProfile"],M),le=e=>{const{closeModal:t}=y(),[s,n]=ee(r=>[r.selectedStudentId,r.resetStudentId]),o=U();return E(()=>O(e),{onSuccess:()=>{o.invalidateQueries(["studentList"]),n(),t()}})},Se=e=>{const{toastDispatch:t}=v(),{closeModal:s}=y();return E(()=>C(e),{onSuccess:()=>{t({actionType:"APPEND_TOAST",toastType:"SUCCESS",message:"엑셀이 업로드 되었습니다."}),s()},onError:n=>{t({actionType:"APPEND_TOAST",toastType:"ERROR",message:n.response.data.message})}})},pe=e=>{const{toastDispatch:t}=v(),{closeModal:s}=y();return E(()=>A(e),{onSuccess:()=>{t({actionType:"APPEND_TOAST",toastType:"SUCCESS",message:"엑셀이 업로드 되었습니다."}),s()},onError:n=>{t({actionType:"APPEND_TOAST",toastType:"ERROR",message:n.response.data.message})}})};export{ee as a,ue as b,_ as c,le as d,de as e,ae as f,pe as g,Se as h,ie as i,ce as u};
