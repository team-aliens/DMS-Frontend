import{i as s,u,q as r}from"./queryKeys-B7CxYHCA.js";import{f as g}from"./excel-vendor-CYB7cqj3.js";import{g as y}from"./decoder-D13FVXDo.js";import{u as o,c}from"./query-vendor-CBGQWAC0.js";const a="/outings",T=async t=>{const{data:e}=await s.get(`${a}/history/${t}`);return e},m=async(t,e)=>{const i=`${a}/histories`+(e&&e.trim()!==""?`?student_name=${e}&date=${t}`:`?date=${t}`),{data:n}=await s.get(i);return n},b=async(t,e,i)=>await s.patch(`${a}/${t}?is_approved=${e}&is_returned=${i}`),O=async()=>{const{data:t}=await s.get(`${a}/types`);return t},E=(t,e)=>o(async()=>await s.delete(`${a}/types/${t}`),{...e}),D=(t,e)=>o(async()=>await s.post(`${a}/types`,{title:t}),{...e}),P=({startDates:t,endDates:e})=>{const{toastDispatch:i}=u();return o(async()=>await s.get(`${a}/files?start=${t}&end=${e}`,{responseType:"blob"}),{onSuccess:n=>{const p=new Blob([n.data],{type:n.headers["content-type"]}),l=n.headers["content-disposition"];g.saveAs(p,y(l))},onError:()=>{i({actionType:"APPEND_TOAST",toastType:"ERROR",message:"외출 기간에 신청한 학생이 없습니다."})}})},$=async t=>{await s.post(`${a}/available-time`,t)},d=async(t,e)=>await s.patch(`${a}/available-time/${t}`,e),v=async t=>await s.delete(`${a}/available-time/${t}`),A=async t=>await s.get(`${a}/available-time?dayOfWeek=${t}`),N=async t=>await s.patch(`${a}/available-time/toggle/${t}`),R=t=>c([r.외출신청내역상세보기],()=>T(t),{cacheTime:0,staleTime:0}),C=({date:t,student_name:e=""})=>c([r.외출신청내역조회,e,t],()=>m(t,e),{refetchOnWindowFocus:!0}),F=()=>c(["useOutingType"],()=>O(),{refetchOnWindowFocus:!0}),_=(t,e)=>{const{toastDispatch:i}=u();return o(()=>d(t,e),{onSuccess:()=>{i({actionType:"APPEND_TOAST",toastType:"SUCCESS",message:"외출 항목이 수정되었습니다."}),setTimeout(()=>{window.location.reload()},1e3)},onError:()=>{i({actionType:"APPEND_TOAST",toastType:"ERROR",message:"외출 시간 수정에 실패했습니다."})}})},G=t=>{const{toastDispatch:e}=u();return o(()=>$(t),{onSuccess:()=>{e({actionType:"APPEND_TOAST",toastType:"SUCCESS",message:"외출 시간이 추가되었습니다."}),setTimeout(()=>{window.location.reload()},1e3)}})},L=t=>c([`useGetPossibleTime/${t}`],()=>A(t));export{R as a,P as b,D as c,C as d,F as e,T as f,E as g,$ as h,G as i,A as j,N as k,L as l,_ as m,v as n,b as u};
